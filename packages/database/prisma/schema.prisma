generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum InvoiceStatus {
  PENDING
  AWAITING_DEPOSIT
  PROCESSING
  COMPLETED
  FAILED
  REFUNDED
  EXPIRED
}

model Invoice {
  id             String        @id @default(uuid())
  status         InvoiceStatus @default(PENDING)
  receiveToken   String
  receiveNetwork String
  amount         String
  walletAddress  String
  description    String?
  buyerName      String?
  buyerEmail     String?
  buyerAddress   String?
  payToken       String?
  payNetwork     String?
  depositAddress String?
  depositMemo    String?
  expiresAt      DateTime?
  quotedAt       DateTime?
  paidAt         DateTime?
  createdAt      DateTime      @default(now())
  updatedAt      DateTime      @updatedAt

  @@index([status])
  @@index([walletAddress])
}
